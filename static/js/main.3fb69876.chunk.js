(this.webpackJsonptulflix=this.webpackJsonptulflix||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},44:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),s=n(13),l=n.n(s),a=(n(38),n(31)),r=n(4),o=(n(39),n(6)),u=n(7),d=n.p+"static/media/tulflix_logo-full.49b0b67c.png",j=(n(44),n(3)),b=n(0),h=Object(c.createContext)({navBar:!1,toggleNavBar:function(){},activePlaylist:null,setActivePlaylist:function(){}}),O=function(e){var t=Object(c.useState)(!1),n=Object(j.a)(t,2),i=n[0],s=n[1],l=Object(c.useState)(null),a=Object(j.a)(l,2),r=a[0],o=a[1];return console.log("@Provider NavBar"),Object(b.jsx)(h.Provider,{value:{navBar:i,toggleNavBar:function(){return s((function(e){return!e}))},activePlaylist:r,setActivePlaylist:o},children:e.children})},v=Object(c.createContext)({selectedVideoId:null,setSelectedVideoId:function(){}}),f=function(e){var t=Object(c.useState)(null),n=Object(j.a)(t,2),i=n[0],s=n[1];return Object(b.jsx)(v.Provider,{value:{selectedVideoId:i,setSelectedVideoId:s},children:e.children})},p=function(e){var t=e.playlistId,n=e.href,i=e.text,s=e.isActive,l=Object(c.useContext)(h).toggleNavBar,a=Object(c.useContext)(v).setSelectedVideoId,r=s?"navbar-link navbar-link-active":"navbar-link";return Object(b.jsx)("li",{className:r,children:Object(b.jsx)("a",{href:n,onClick:function(e){!function(e){e.preventDefault(),document.getElementById("#".concat(t)).scrollIntoView()}(e),a(null),l()},children:i})})},x=n(30),m=n.n(x),g=function(e,t){var n=Object(c.useState)(!0),i=Object(j.a)(n,2),s=i[0],l=i[1],a=Object(c.useState)(null),r=Object(j.a)(a,2),o=r[0],u=r[1],d=Object(c.useState)(null),b=Object(j.a)(d,2),h=b[0],O=b[1],v={method:e,url:t};return Object(c.useEffect)((function(){m()(v).then((function(e){return u(e)})).catch((function(e){O(e)})).finally((function(){l(!1)}))}),[]),{loading:s,response:o,error:h}},y="channel",_="playlists",N="playlist_item",I="videoInfo",C="channelActivity",S="channelVideos",w={loading:!0,results:[],error:null},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,s={channel:"https://youtube.googleapis.com/youtube/v3/channels?part=snippet&part=statistics&part=contentDetails&part=topicDetails&id=".concat(n,"&maxResults=").concat(i,"&key=").concat(t),playlists:"https://youtube.googleapis.com/youtube/v3/playlists?part=snippet&channelId=".concat(n,"&maxResults=").concat(i,"&key=").concat(t),playlist_item:" https://youtube.googleapis.com/youtube/v3/playlistItems?part=snippet&part=id&part=contentDetails&part=status&playlistId=".concat(n,"&maxResults=").concat(i,"&key=").concat(t),videoInfo:"https://youtube.googleapis.com/youtube/v3/videos?id=".concat(n,"&part=snippet&part=statistics&maxResults=").concat(i,"&key=").concat(t),channelActivity:"https://youtube.googleapis.com/youtube/v3/activities?part=contentDetails&part=snippet&channelId=".concat(n,"&maxResults=").concat(i,"&key=").concat(t),channelVideos:"https://youtube.googleapis.com/youtube/v3/search?part=snippet&channelId=".concat(n,"&maxResults=").concat(i,"&order=date&type=video&key=").concat(t)},l=Object(c.useState)([]),a=Object(j.a)(l,2),r=a[0],o=a[1],u=g("get",s[e]),d=u.loading,b=u.error,h=u.response;return Object(c.useEffect)((function(){(h||b)&&o(b||h.data.items)}),[h,b]),{loading:d,error:b,results:r}},D="AIzaSyDUkHcEDn8jnLFItqrvJ9ZCXt8qbMX-Kbo",k="UCxhygwqQ1ZMoBGQM2yEcNug",E={GetChannelInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return P(y,D,e)},GetChannelActivity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return P(C,D,e)},GetChannelVideos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return P(S,D,e)},GetPlaylists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return P(_,D,e)},GetPlaylistItems:function(e){return P(N,D,e)},GetVideoInfo:function(e){return P(I,D,e)}},A=n(33),U=function(e,t,n){Object(c.useEffect)((function(){if(0===t.results.length&&t.loading&&(!e.loading&&e.results.length>0||e.error)){var c;c=Object(A.a)({},e),n(c)}}),[e,t,n])},V=Object(c.createContext)({playlists:w,setPlaylists:function(){},manualPlaylists:{}}),B=function(e){var t=Object(c.useState)(w),n=Object(j.a)(t,2),i=n[0],s=n[1];console.log("@Provider Playlists");var l=E.GetPlaylists();return U(l,i,(function(e){return s(e)})),Object(b.jsx)(V.Provider,{value:{playlists:i,setPlaylists:s,manualPlaylists:{recentUploads:{id:"recentUploads01",title:"RECENT UPLOADS"},allVideos:{id:"allVideos02",title:"ALL VIDEOS"}}},children:e.children})},G=(n(63),n(64),function(e){var t=e.className;return Object(b.jsx)("div",{className:"spinner ".concat(t),children:Object(b.jsx)(o.a,{icon:u.f})})}),L=function(){var e=Object(c.useContext)(h),t=e.navBar,n=e.toggleNavBar,i=e.activePlaylist,s=Object(c.useContext)(V),l=s.playlists,a=s.manualPlaylists,r=Object(c.useContext)(v).setSelectedVideoId,d=t?"navbar navbar-open":"navbar",j=t?"container__navbar__arrow arrow-up":"container__navbar__arrow",O=[Object(b.jsx)(p,{playlistId:a.recentUploads.id,href:"src",text:a.recentUploads.title,isActive:a.recentUploads.id===i},a.recentUploads.id+"navbar")],f=l.loading?Object(b.jsx)(G,{className:"spinner-sm"}):l.results.map((function(e){return Object(b.jsx)(p,{playlistId:e.id,href:"src",text:e.snippet.title,isActive:e.id===i},e.id)}));return Object(b.jsxs)("div",{className:"container__navbar",children:[Object(b.jsxs)("button",{onClick:function(e){e.preventDefault(),n(),r(null)},children:["Browse",Object(b.jsx)("div",{className:j,children:Object(b.jsx)(o.a,{icon:u.b})})]}),Object(b.jsxs)("div",{className:d,children:[Object(b.jsx)("em",{children:Object(b.jsx)(o.a,{icon:u.c})}),Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[O,f]})})]})]})};function F(e){var t=e;try{for(var n=0;t>=1e3;)t/=1e3,n++;return n>0&&(t=t.toFixed(1)),t+=["","K","M","B","T"][n]}catch(c){return console.log("error",t),e}}var R=Object(c.createContext)({channel:w,setChannel:function(){}}),M=function(e){var t=Object(c.useState)(w),n=Object(j.a)(t,2),i=n[0],s=n[1];console.log("@Provider Channel");var l=E.GetChannelInfo();return U(l,i,(function(e){return s(e)})),Object(b.jsx)(R.Provider,{value:{channel:i,setChannel:s},children:e.children})},T=(n(65),n(66),function(){var e=Object(c.useContext)(R).channel,t=e.loading?Object(b.jsx)(G,{className:"spinner-sm"}):Object(b.jsx)("p",{children:F(e.results[0].statistics.subscriberCount)});return Object(b.jsxs)("header",{children:[Object(b.jsxs)("div",{className:"header__item_left",children:[Object(b.jsx)("img",{className:"logo-full",src:d,alt:"tulflix_logo-full.png"}),Object(b.jsx)(L,{})]}),Object(b.jsxs)("div",{className:"header__item_right",children:[Object(b.jsxs)("a",{href:"https://www.youtube.com/channel/UCxhygwqQ1ZMoBGQM2yEcNug",target:"_blank",rel:"noreferrer",children:[Object(b.jsx)("em",{children:Object(b.jsx)(o.a,{icon:u.j})}),t]}),Object(b.jsx)("p",{children:"Subscribers"})]})]})}),W=(n(67),n(68),function(e){var t=e.videoID,n=e.title,i=Object(c.useState)(!1),s=Object(j.a)(i,2),l=s[0],a=s[1];return Object(b.jsxs)("div",{className:"container__videoplayer",children:[Object(b.jsx)("iframe",{onLoad:function(e){a(!0)},className:"iframe-responsive",src:"https://www.youtube.com/embed/".concat(t),allowFullScreen:!0,title:n}),Object(b.jsx)("div",{className:"container__loading",children:!l&&Object(b.jsx)(G,{className:"spinner-lg"})})]})}),q=Object(c.createContext)({channelActivities:w,setChannelActivities:function(){}}),Q=function(e){var t=Object(c.useState)(w),n=Object(j.a)(t,2),i=n[0],s=n[1];console.log("@Provider Channel Act");var l=E.GetChannelActivity();return U(l,i,(function(e){return s(e)})),Object(b.jsx)(q.Provider,{value:{channelActivities:i,setChannelActivities:s},children:e.children})},z=function(){var e=Object(c.useContext)(R).channel,t=Object(c.useContext)(q).channelActivities,n=!t.loading&&t.results.length>0;return Object(b.jsx)("div",{className:"container__featured",children:Object(b.jsx)(i.a.Fragment,{children:e.loading?Object(b.jsx)("div",{className:"container__featured__loading",children:Object(b.jsx)(G,{className:"spinner-lg"})}):n?Object(b.jsx)("div",{className:"container__featured__video",children:Object(b.jsx)(W,{videoID:t.results[0].contentDetails.upload.videoId,title:t.results[0].snippet.title})}):Object(b.jsx)("div",{className:"container__featured__image",children:Object(b.jsx)("img",{src:e.results[0].snippet.thumbnails.high.url,alt:e.results[0].snippet.customUrl})})})})},J=(n(69),function(e){var t=e.videoID,n=e.imgUrl,i=Object(c.useState)(!1),s=Object(j.a)(i,2),l=s[0],a=s[1],r=Object(c.useContext)(v).setSelectedVideoId;if(!t||!n)return null;return Object(b.jsxs)("div",{className:"container__playlistitem",children:[Object(b.jsx)("img",{src:n,alt:t,onClick:function(e){e.preventDefault(),r(t)},onLoad:function(e){a(!0)}}),!l&&Object(b.jsx)(G,{className:"spinner-md"})]})}),Z=(n(70),function(e,t){return t.length>0?{loading:!1,results:t,error:null}:E.GetPlaylistItems(e)}),K=function(e){var t=e.title,n=e.playlistId,s=e.items,l=void 0===s?[]:s,a=Object(c.useRef)(null),r=Object(c.useState)(!1),d=Object(j.a)(r,2),h=d[0],O=d[1],v=Object(c.useState)(l),f=Object(j.a)(v,2),p=f[0],x=f[1],m=Object(c.useState)(!1),g=Object(j.a)(m,2),y=g[0],_=g[1],N=Object(c.useState)([]),I=Object(j.a)(N,2),C=I[0],S=I[1],w=Object(c.useState)(0),P=Object(j.a)(w,2),D=P[0],k=P[1],E=Object(c.useState)(-1),A=Object(j.a)(E,2),U=A[0],V=A[1],B=Z(n,l);Object(c.useEffect)((function(){window.addEventListener("resize",G)}),[a]),Object(c.useEffect)((function(){y&&G()}),[y]),Object(c.useEffect)((function(){L(D),V(0)}),[D]),Object(c.useEffect)((function(){B.loading||0!==p.length||x(B.results)}),[p,l,B]);var G=function(){y&&k(Math.round(a.current.scrollWidth/window.innerWidth))},L=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1===t&&(t=0);var n=[t];if(t>0){for(e=0;e<=t;e++){var c=e;n[e]=c}S(n)}},F=!0;try{F=a.current.scrollWidth>window.innerWidth}catch(R){F=!0}return Object(b.jsxs)("div",{className:"container_playlist",children:[h&&Object(b.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),a.current.scrollTo({behavior:"smooth",left:a.current.scrollLeft-window.innerWidth})}(e)},className:"container__playlist__control control-left",children:Object(b.jsx)(o.a,{icon:u.d})}),F&&Object(b.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),a.current.scrollTo({behavior:"smooth",left:window.innerWidth+a.current.scrollLeft})}(e)},className:"container__playlist__control control-right",children:Object(b.jsx)(o.a,{icon:u.e})}),Object(b.jsx)("div",{className:"container__playlist-nav-buttons",children:C.length>0&&C.map((function(e){return Object(b.jsx)("button",{onClick:function(t){t.preventDefault(),function(e,t){e.preventDefault(),V(t),a.current.scrollTo({behavior:"smooth",left:window.innerWidth*t})}(t,e)},className:U===e?"container__playlist-nav-buttons-active":""},e)}))}),Object(b.jsxs)("div",{className:"container_playlist-title",children:[Object(b.jsx)("h2",{children:t}),Object(b.jsx)("div",{className:"container_playlist-title__sub-text",children:"Explore all"}),Object(b.jsx)("div",{className:"container_playlist-title__sub-icon",children:Object(b.jsx)(o.a,{icon:u.a})})]}),Object(b.jsxs)("div",{className:"container_playlist-items "+(!y&&" playlist-loading"),id:"#".concat(n),ref:a,onScroll:function(e){!function(e){O(e.target.scrollLeft>0)}(e)},onLoad:function(){_(!0)},children:[Object(b.jsx)(i.a.Fragment,{children:p.map((function(e,t){var n;try{n=l.length>0?Object(b.jsx)(J,{videoID:e.contentDetails.upload.videoId,imgUrl:e.snippet.thumbnails.medium.url,title:e.snippet.title},e.contentDetails.upload.videoId+t):Object(b.jsx)(J,{videoID:e.snippet.resourceId.videoId,imgUrl:e.snippet.thumbnails.medium.url,title:e.snippet.title},e.snippet.resourceId.videoId+t)}catch(c){n=null}return n}))}),Object(b.jsx)(J,{})]})]})},X=(n(71),function(){var e=Object(c.useContext)(V),t=e.playlists,n=e.manualPlaylists,s=Object(c.useContext)(q).channelActivities;return Object(b.jsxs)("div",{className:"container__playlists",children:[!s.loading&&s.results.length>0?Object(b.jsx)(i.a.Fragment,{children:Object(b.jsx)(K,{title:n.recentUploads.title,playlistId:n.recentUploads.id,items:s.results})}):Object(b.jsx)("div",{className:"container__playlists_loading",children:Object(b.jsx)(G,{className:"spinner-lg"})}),!t.loading&&t.results.length>0?Object(b.jsx)(i.a.Fragment,{children:t.results.map((function(e){return Object(b.jsx)(K,{title:e.snippet.localized.title,playlistId:e.id},e.id)}))}):Object(b.jsx)("div",{className:"container__playlists_loading",children:Object(b.jsx)(G,{className:"spinner-lg"})})]})}),H=function(){return Object(b.jsxs)(i.a.Fragment,{children:[Object(b.jsx)(z,{}),Object(b.jsx)(X,{})]})},Y=n.p+"static/media/tulflix_logo-icon.93cc8c92.png",$=(n(72),function(e){return l.a.createPortal(Object(b.jsx)("div",{className:"container__backdrop",children:e.children}),document.getElementById("root-video-info"))}),ee=(n(73),function(e){var t=e.videoId,n=Object(c.useState)({id:"",title:"",imgUrl:"",datePublished:new Date,likeCount:"",viewCount:"",description:""}),i=Object(j.a)(n,2),s=i[0],l=i[1],a=Object(c.useContext)(v).setSelectedVideoId,r=E.GetVideoInfo(t);return Object(c.useEffect)((function(){r.loading||null===r.result||null!==r.error||""!==s.id||l({id:r.results[0].id,title:r.results[0].snippet.title,imgUrl:r.results[0].snippet.thumbnails.maxres.url,datePublished:new Date(r.results[0].snippet.publishedAt),likeCount:F(r.results[0].statistics.likeCount),viewCount:F(r.results[0].statistics.viewCount),description:r.results[0].snippet.description})}),[r,s]),Object(b.jsx)($,{children:Object(b.jsxs)("div",{className:"container__video-modal",children:[Object(b.jsx)("div",{className:"container__video-modal__close-btn",children:Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),a(null)},children:Object(b.jsx)(o.a,{icon:u.i})})}),Object(b.jsxs)("div",{className:"container__video-modal__info",children:[Object(b.jsxs)("div",{className:"info-img",children:[Object(b.jsx)("div",{className:"info-img-overlay",children:Object(b.jsx)(W,{videoID:s.id,title:s.title})}),Object(b.jsx)("img",{src:s.imgUrl,alt:s.title})]}),r.loading?Object(b.jsx)(G,{className:"spinner-lg"}):Object(b.jsxs)("div",{className:"info-text",children:[Object(b.jsxs)("div",{className:"info-text-date",children:[Object(b.jsx)("p",{children:s.datePublished.toDateString()}),Object(b.jsxs)("div",{className:"info-text-statistics statistics-likes",children:[Object(b.jsx)("p",{children:Object(b.jsx)(o.a,{icon:u.h})}),Object(b.jsx)("p",{children:s.likeCount})]}),Object(b.jsxs)("div",{className:"info-text-statistics statistics-views",children:[Object(b.jsx)("p",{children:Object(b.jsx)(o.a,{icon:u.g})}),Object(b.jsx)("p",{children:s.viewCount})]})]}),Object(b.jsxs)("div",{className:"info-text-t-series",children:[Object(b.jsx)("img",{src:Y,alt:Y}),Object(b.jsx)("h2",{children:"SERIES"})]}),Object(b.jsx)("h2",{children:s.title}),Object(b.jsx)("pre",{className:"info-desc",children:s.description})]})]})]})})});var te=function(){var e=Object(c.useContext)(v).selectedVideoId;Object(c.useEffect)((function(){console.log("@App Re-render")})),Object(c.useEffect)((function(){console.log("@App selectedVideoId",e)}),[e]);var t=null!==e&&l.a.createPortal(Object(b.jsx)(ee,{videoId:e}),document.getElementById("root-video-info"));return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsxs)(a.a,{basename:"/",children:[Object(b.jsx)(T,{}),Object(b.jsx)(r.c,{children:Object(b.jsx)(r.a,{path:"/",children:Object(b.jsx)(H,{})})})]}),t]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),c(e),i(e),s(e),l(e)}))},ce=Object(c.createContext)(),ie=function(e){return console.log("@Provider App"),Object(b.jsx)(ce.Provider,{value:e,children:Object(b.jsx)(O,{children:Object(b.jsx)(f,{children:Object(b.jsx)(M,{children:Object(b.jsx)(Q,{children:Object(b.jsx)(B,{children:e.children})})})})})})};l.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(ie,{children:Object(b.jsx)(te,{})})}),document.getElementById("root")),ne()}},[[76,1,2]]]);
//# sourceMappingURL=main.3fb69876.chunk.js.map