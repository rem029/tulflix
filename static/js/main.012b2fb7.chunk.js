(this.webpackJsonptulflix=this.webpackJsonptulflix||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},47:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),s=n(14),l=n.n(s),a=(n(41),n(23)),r=n(12),o=n(5),u=n(35),d=n(3),j=(n(42),n(6)),b=n(7),h=n.p+"static/media/tulflix_logo-full.49b0b67c.png",O=(n(47),n(34)),f=n.n(O),p=function(e,t){var n=Object(c.useState)(!0),i=Object(o.a)(n,2),s=i[0],l=i[1],a=Object(c.useState)(null),r=Object(o.a)(a,2),u=r[0],d=r[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),h=b[0],O=b[1],p={method:e,url:t};return Object(c.useEffect)((function(){f()(p).then((function(e){return d(e)})).catch((function(e){O(e)})).finally((function(){l(!1)}))}),[]),{loading:s,response:u,error:h}},v="channel",m="playlists",x="playlist_item",g="videoInfo",y="channelActivity",_="channelVideos",N={loading:!0,results:[],error:null},I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,s={channel:"https://youtube.googleapis.com/youtube/v3/channels?part=snippet&part=statistics&part=contentDetails&part=topicDetails&id=".concat(n,"&maxResults=").concat(i,"&key=").concat(t),playlists:"https://youtube.googleapis.com/youtube/v3/playlists?part=snippet&channelId=".concat(n,"&maxResults=").concat(i,"&key=").concat(t),playlist_item:" https://youtube.googleapis.com/youtube/v3/playlistItems?part=snippet&part=id&part=contentDetails&part=status&playlistId=".concat(n,"&maxResults=").concat(i,"&key=").concat(t),videoInfo:"https://youtube.googleapis.com/youtube/v3/videos?id=".concat(n,"&part=snippet&part=statistics&maxResults=").concat(i,"&key=").concat(t),channelActivity:"https://youtube.googleapis.com/youtube/v3/activities?part=contentDetails&part=snippet&channelId=".concat(n,"&maxResults=").concat(i,"&key=").concat(t),channelVideos:"https://youtube.googleapis.com/youtube/v3/search?part=snippet&channelId=".concat(n,"&maxResults=").concat(i,"&order=date&type=video&key=").concat(t)},l=Object(c.useState)(null),a=Object(o.a)(l,2),r=a[0],u=a[1],d=p("get",s[e]),j=d.loading,b=d.error,h=d.response;return Object(c.useEffect)((function(){(h||b)&&u(b?[b]:h.data.items)}),[h,b]),{loading:j,error:b,results:r}},C={selectedVideo:null,navBar:!1,activePlaylist:"",toggleNavBar:function(){},setSelectedVideo:function(){},setActivePage:function(){},channel:Object(r.a)({loaded:!1},N),channelActivities:Object(r.a)({loaded:!1},N),playlists:Object(r.a)({loaded:!1},N),playlistItems:[],addToPlaylistItems:function(){}},w=Object(c.createContext)(C),S=n(0),D=function(e){var t=e.playlistId,n=e.href,c=e.text,i=e.isActive?"navbar-link navbar-link-active":"navbar-link";return Object(S.jsx)(w.Consumer,{children:function(e){var s=e.toggleNavBar,l=e.setSelectedVideo;return Object(S.jsx)("li",{className:i,children:Object(S.jsx)("a",{href:n,onClick:function(e){!function(e){e.preventDefault(),document.getElementById("#".concat(t)).scrollIntoView()}(e),l(null),s()},children:c})})}})},k=(n(66),n(67),function(e){var t=e.className;return Object(S.jsx)("div",{className:"spinner ".concat(t),children:Object(S.jsx)(j.a,{icon:b.f})})}),E=function(){return Object(S.jsx)(w.Consumer,{children:function(e){var t=e.navBar,n=e.toggleNavBar,c=e.activePlaylist,i=e.setSelectedVideo,s=e.playlists,l=t?"navbar navbar-open":"navbar",a=t?"container__navbar__arrow arrow-up":"container__navbar__arrow",r=s.loading?Object(S.jsx)(k,{className:"spinner-sm"}):s.results.map((function(e){return Object(S.jsx)(D,{playlistId:e.id,href:"src",text:e.snippet.title,isActive:e.id===c},e.id)}));return Object(S.jsxs)("div",{className:"container__navbar",children:[Object(S.jsxs)("button",{onClick:function(e){e.preventDefault(),n(),i(null)},children:["Browse",Object(S.jsx)("div",{className:a,children:Object(S.jsx)(j.a,{icon:b.b})})]}),Object(S.jsxs)("div",{className:l,children:[Object(S.jsx)("em",{children:Object(S.jsx)(j.a,{icon:b.c})}),Object(S.jsx)("nav",{children:Object(S.jsx)("ul",{children:r})})]})]})}})};function P(e){for(var t=e,n=0;t>=1e3;)t/=1e3,n++;return t=t.toPrecision(3),t+=["","K","M","B","T"][n]}n(68),n(69);var A=function(){return Object(S.jsxs)("header",{children:[Object(S.jsxs)("div",{className:"header__item_left",children:[Object(S.jsx)("img",{className:"logo-full",src:h,alt:"tulflix_logo-full.png"}),Object(S.jsx)(E,{})]}),Object(S.jsx)(w.Consumer,{children:function(e){var t=e.channel,n=t.loading?Object(S.jsx)(k,{className:"spinner-sm"}):Object(S.jsx)("p",{children:P(t.results[0].statistics.subscriberCount)});return Object(S.jsxs)("div",{className:"header__item_right",children:[Object(S.jsxs)("a",{href:"https://www.youtube.com/channel/UCxhygwqQ1ZMoBGQM2yEcNug",target:"_blank",rel:"noreferrer",children:[Object(S.jsx)("em",{children:Object(S.jsx)(j.a,{icon:b.j})}),n]}),Object(S.jsx)("p",{children:"Subscribers"})]})}})]})},B=(n(70),n(71),function(e){var t=e.videoID,n=e.title;return Object(S.jsx)("div",{className:"container",children:Object(S.jsx)("iframe",{className:"iframe-responsive",src:"https://www.youtube.com/embed/".concat(t),allowFullScreen:!0,title:n})})}),V=function(){return Object(S.jsx)("div",{className:"container__featured",children:Object(S.jsx)(w.Consumer,{children:function(e){var t=e.channel,n=e.channelActivities,c=!n.loading&&n.results.length>0;return Object(S.jsx)(i.a.Fragment,{children:t.loading?Object(S.jsx)("div",{className:"container__featured__loading",children:Object(S.jsx)(k,{className:"spinner-lg"})}):c?Object(S.jsx)("div",{className:"container__featured__video",children:Object(S.jsx)(B,{videoID:n.results[0].contentDetails.upload.videoId,title:n.results[0].snippet.title})}):Object(S.jsx)("div",{className:"container__featured__image",children:Object(S.jsx)("img",{src:t.results[0].snippet.thumbnails.high.url,alt:t.results[0].snippet.customUrl})})})}})})},G=(n(72),function(e){var t=e.videoID,n=e.imgUrl;return t&&n?Object(S.jsx)(w.Consumer,{children:function(e){var c=e.setSelectedVideo;return Object(S.jsx)("div",{className:"container__playlistitem",children:Object(S.jsx)("img",{src:n,alt:t,onClick:function(e){e.preventDefault(),c(t)}})})}}):null}),F="AIzaSyAzDS1VcDtglBvOYbp0cVZyR6dmddTJrAQ",R="UCxhygwqQ1ZMoBGQM2yEcNug",U={GetChannelInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return I(v,F,e)},GetChannelActivity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return I(y,F,e)},GetChannelVideos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return I(_,F,e)},GetPlaylists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return I(m,F,e)},GetPlaylistItems:function(e){return I(x,F,e)},GetVideoInfo:function(e){return I(g,F,e)}},T=(n(73),function(e,t){return t.length>0?{loading:!1,results:t,error:null}:U.GetPlaylistItems(e)}),L=function(e){var t=e.title,n=e.playlistId,s=e.items,l=void 0===s?[]:s,a=Object(c.useRef)(null),r=Object(c.useContext)(w),u=Object(c.useState)(!1),d=Object(o.a)(u,2),h=d[0],O=d[1],f=Object(c.useState)(l),p=Object(o.a)(f,2),v=p[0],m=p[1],x=T(n,l);Object(c.useEffect)((function(){x.loading||0!==v.length||m(x.results)}),[v,r,l,x]),Object(c.useEffect)((function(){window.addEventListener("resize",g)}),[a]);var g=function(e){},y=!0;try{y=a.current.scrollWidth>window.innerWidth}catch(_){y=!0}return Object(S.jsxs)("div",{className:"container_playlist",children:[h&&Object(S.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),a.current.scrollTo({behavior:"smooth",left:a.current.scrollLeft-window.innerWidth})}(e)},className:"container__playlist__control control-left",children:Object(S.jsx)(j.a,{icon:b.d})}),y&&Object(S.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),a.current.scrollTo({behavior:"smooth",left:window.innerWidth+a.current.scrollLeft})}(e)},className:"container__playlist__control control-right",children:Object(S.jsx)(j.a,{icon:b.e})}),Object(S.jsxs)("div",{className:"container_playlist-title",children:[Object(S.jsx)("h2",{children:t}),Object(S.jsx)("div",{className:"container_playlist-title__sub-text",children:"Explore all"}),Object(S.jsx)("div",{className:"container_playlist-title__sub-icon",children:Object(S.jsx)(j.a,{icon:b.a})})]}),Object(S.jsxs)("div",{className:"container_playlist-items",id:"#".concat(n),ref:a,onScroll:function(e){!function(e){O(e.target.scrollLeft>0)}(e)},children:[Object(S.jsx)(i.a.Fragment,{children:v.map((function(e,t){var n;try{n=l.length>0?Object(S.jsx)(G,{videoID:e.contentDetails.upload.videoId,imgUrl:e.snippet.thumbnails.medium.url,title:e.snippet.title},e.contentDetails.upload.videoId+t):Object(S.jsx)(G,{videoID:e.snippet.resourceId.videoId,imgUrl:e.snippet.thumbnails.medium.url,title:e.snippet.title},e.snippet.resourceId.videoId+t)}catch(c){n=null}return n}))}),Object(S.jsx)(G,{})]})]})},M=(n(74),function(){return Object(S.jsx)(w.Consumer,{children:function(e){var t=e.playlists,n=e.channelActivities;return Object(S.jsxs)("div",{className:"container__playlists",children:[n.loading?Object(S.jsx)("div",{className:"container__playlists_loading",children:Object(S.jsx)(k,{className:"spinner-lg"})}):Object(S.jsxs)(i.a.Fragment,{children:[Object(S.jsx)(L,{title:"RECENT UPLOADS",playlistId:0,items:n.results}),";"]}),t.loading?Object(S.jsx)("div",{className:"container__playlists_loading",children:Object(S.jsx)(k,{className:"spinner-lg"})}):Object(S.jsx)(i.a.Fragment,{children:t.results.map((function(e){return Object(S.jsx)(L,{title:e.snippet.localized.title,playlistId:e.id},e.id)}))})]})}})}),Q=function(){return Object(S.jsxs)(i.a.Fragment,{children:[Object(S.jsx)(V,{}),Object(S.jsx)(M,{})]})},z=n.p+"static/media/tulflix_logo-icon.93cc8c92.png",W=(n(75),function(e){return l.a.createPortal(Object(S.jsx)("div",{className:"container__backdrop",children:e.children}),document.getElementById("root-video-info"))}),J=(n(76),function(e){var t=e.videoId,n=Object(c.useState)({id:"",title:"",imgUrl:"",datePublished:new Date,likeCount:"",viewCount:"",description:""}),i=Object(o.a)(n,2),s=i[0],l=i[1],a=U.GetVideoInfo(t);return Object(c.useEffect)((function(){a.loading||null===a.result||null!==a.error||""!==s.id||l({id:a.results[0].id,title:a.results[0].snippet.title,imgUrl:a.results[0].snippet.thumbnails.maxres.url,datePublished:new Date(a.results[0].snippet.publishedAt),likeCount:P(a.results[0].statistics.likeCount),viewCount:P(a.results[0].statistics.viewCount),description:a.results[0].snippet.description})}),[a,s]),Object(S.jsx)(w.Consumer,{children:function(e){var t=e.setSelectedVideo;return Object(S.jsx)(W,{children:Object(S.jsxs)("div",{className:"container__video-modal",children:[Object(S.jsx)("div",{className:"container__video-modal__close-btn",children:Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),t(null)},children:Object(S.jsx)(j.a,{icon:b.i})})}),Object(S.jsxs)("div",{className:"container__video-modal__info",children:[Object(S.jsxs)("div",{className:"info-img",children:[Object(S.jsx)("div",{className:"info-img-overlay",children:Object(S.jsx)(B,{videoID:s.id,title:s.title})}),Object(S.jsx)("img",{src:s.imgUrl,alt:s.title})]}),a.loading?Object(S.jsx)(k,{className:"spinner-lg"}):Object(S.jsxs)("div",{className:"info-text",children:[Object(S.jsxs)("div",{className:"info-text-date",children:[Object(S.jsx)("p",{children:s.datePublished.toDateString()}),Object(S.jsxs)("div",{className:"info-text-statistics statistics-likes",children:[Object(S.jsx)("p",{children:Object(S.jsx)(j.a,{icon:b.h})}),Object(S.jsx)("p",{children:s.likeCount})]}),Object(S.jsxs)("div",{className:"info-text-statistics statistics-views",children:[Object(S.jsx)("p",{children:Object(S.jsx)(j.a,{icon:b.g})}),Object(S.jsx)("p",{children:s.viewCount})]})]}),Object(S.jsxs)("div",{className:"info-text-t-series",children:[Object(S.jsx)("img",{src:z,alt:z}),Object(S.jsx)("h2",{children:"SERIES"})]}),Object(S.jsx)("h2",{children:s.title}),Object(S.jsx)("pre",{className:"info-desc",children:s.description})]})]})]})})}})});var Z=function(e,t,n){Object(c.useEffect)((function(){t.loaded||(!e.loading&&e.results.length>0||e.error)&&n({loaded:!0,loading:e.loading,results:e.results,error:e.error})}),[e,t,n])},q=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(null),j=Object(o.a)(s,2),b=j[0],h=j[1],O=Object(c.useState)(Object(r.a)({loaded:!1},C.channel)),f=Object(o.a)(O,2),p=f[0],v=f[1],m=Object(c.useState)(Object(r.a)({loaded:!1},C.channelActivities)),x=Object(o.a)(m,2),g=x[0],y=x[1],_=Object(c.useState)(Object(r.a)({loaded:!1},C.playlists)),N=Object(o.a)(_,2),I=N[0],D=N[1],k=Object(c.useState)([]),E=Object(o.a)(k,2),P=E[0],B=E[1];Object(c.useEffect)((function(){}),[p,g,I]),Object(c.useEffect)((function(){}),[P]);var V=U.GetChannelInfo(),G=U.GetPlaylists(),F=U.GetChannelActivity();Z(V,p,(function(e){return v(e)})),Z(F,g,(function(e){return y(e)})),Z(G,I,(function(e){return D(e)}));var R=null!==b&&l.a.createPortal(Object(S.jsx)(J,{videoId:b}),document.getElementById("root-video-info"));return Object(S.jsxs)(w.Provider,{value:Object(r.a)(Object(r.a)({},C),{},{selectedVideoId:b,setSelectedVideo:function(e){return h(e)},navBar:n,toggleNavBar:function(){return i((function(e){return!e}))},channel:p,channelActivities:g,playlists:I,playlistItems:P,addToPlaylistItems:function(e){return B((function(t){return[].concat(Object(a.a)(t),Object(a.a)(e))}))}}),children:[Object(S.jsx)("div",{className:"app",children:Object(S.jsxs)(u.a,{basename:"/",children:[Object(S.jsx)(A,{}),Object(S.jsx)(d.c,{children:Object(S.jsx)(d.a,{path:"/",children:Object(S.jsx)(Q,{})})})]})}),R]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),c(e),i(e),s(e),l(e)}))};l.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(q,{})}),document.getElementById("root")),K()}},[[79,1,2]]]);
//# sourceMappingURL=main.012b2fb7.chunk.js.map